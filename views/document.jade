extends layout

block head
	-title = "Texto | " + name
	script(type="text/javascript" src="/js/splitter.js")
	script(type="text/javascript" src="/js/script.js")
	script(type="text/javascript" src="/js/ace/ace.js" charset="utf-8")
	script(type="text/javascript" src="/js/ace/mode-c_cpp.js")
	script(type="text/javascript" src="/js/ace/mode-java.js")
	script(type="text/javascript" src="/js/ace/mode-latex.js")
	script(type="text/javascript" src="/js/ace/mode-plain_text.js")
	script(type="text/javascript" src="/channel/bcsocket-uncompressed.js")
	script(type="text/javascript" src="/share/share.uncompressed.js")
	script(type="text/javascript" src="/share/ace.js")
	script(src="/socket.io/socket.io.js")

block header
	div#docTitle
		h2 #{name}
		input(type="button" value="Smazat" onclick="deleteDoc('" + id + "')")

block content
	div(id="leftPane")
		div(id="codeToolbar")
			div(id="syntaxChangeContainer")
				label(for="syntaxLanguage") Syntaxe:
				select#syntaxLanguage.toolbarField(onchange="changeSyntaxHighliting(this.options[this.selectedIndex].value)")
					option(value="plain") Plain
					option(value="latex") LaTeX
					option(value="java") Java
					option(value="cpp") C++
			div(id="fontSizeContainer")
				.splitToolbarButton
					button#fontSizeButtonPlus.toolbarButton(onclick="changeFontSize(true);")
					.splitToolbarButtonSeparator
					button#fontSizeButtonMinus.toolbarButton(onclick="changeFontSize(false);")
				.splitToolbarButton
					button#fontSizeButtonBold.toolbarButton(onclick="boldText();")
					.splitToolbarButtonSeparator
					button#fontSizeButtonItalic.toolbarButton(onclick="italicText();")
					.splitToolbarButtonSeparator
					button#fontSizeButtonUnderline.toolbarButton(onclick="underlineText();")
			div(id="createPDFContainer")
				input(value="Vytvo≈ôit PDF" type="button" id="createPDFButton" onclick="sendCreatePDFMessage();" class="pdfButtonEnabled")
			div(id="searchTextContainer")
				input#searchTextValue.toolbarField(type="text" onkeyup="if (event.keyCode == 13) searchAce(true); else searchAce(false);")
				input(type="button" id="searchTextButton" onclick="searchAce(true);")
		div(id="editor")
		script.
			documentID="#{id}";
		script(type="text/javascript" src="/js/docTools.js")
		div(id="statusBar")
			div(id="statusBarViewers")
			input(type="button" id="buttonShowLog" onclick="showLog();" value="Zobrazit log")
		div(id="logArea" class="logAreaNormal")
	div(id="rightPane")
		iframe(id="viewer" src="")
